{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/App.vue?cc2a","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/home.vue?fec0","webpack:///./src/views/upload.vue?e22b","webpack:///src/views/upload.vue","webpack:///./src/views/upload.vue?b7fe","webpack:///./src/views/upload.vue","webpack:///src/views/home.vue","webpack:///./src/views/home.vue?a243","webpack:///./src/views/home.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/views/home.vue?2f01","webpack:///./src/views/upload.vue?ec4f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","on","$event","handleSearch","slot","ref","staticClass","directives","rawName","expression","searchOption","onSearchResult","center","plugin","amapManager","zoom","events","_l","marker","index","position","visible","draggable","showAll","tag","country","model","callback","$$v","active","isSearch","_v","show","staticStyle","addMarker","showAllMarker","handleChange","fileList","handleOk","handlePrint","activeNames","points","point","_s","onMark","_e","parmas","dataList","methods","parseInt","console","log","$emit","$toast","loading","message","forbidClick","overlay","duration","_this","Promise","resolve","X","rABS","files","map","item","file","f","reader","FileReader","sessionStorage","setItem","onload","wb","e","target","read","arr","fixdata","btoa","processWb","readAsBinaryString","type","output","JSON","stringify","toJson","w","byteLength","String","fromCharCode","Uint8Array","workbook","SheetNames","forEach","roa","sheetName","str","Sheet1","datas","len","obj","lng","lat","components","self","markers","city","citylimit","setMapStyle","getMap","setFitView","computed","val","AMap","Marker","setMap","backgroundColor","useCORS","link","document","createElement","href","canvas","toDataURL","setAttribute","style","display","body","appendChild","click","setTimeout","toImage","arg","getCenter","lngs","reduce","pre","cur","lats","pois","latSum","lngSum","poi","conuntry","success","Vue","use","Router","routes","path","Home","UpLoad","$axios","axios","kscreenshot","qs","QS","config","productionTip","VueAMap","initAMapApiLoader","v","router","h","App","$mount"],"mappings":"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","file":"js/app.9e76d27e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/resume-vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n <router-view/>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"app\",\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width:100vw;\n  height:100vh;\n  overflow: scroll;\n}\n.amap-overlay-text-container  {\n    background:deeppink !important;\n    color:#ffffff !important;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4e917dd9&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"乡镇查询\"}},[_c('van-icon',{attrs:{\"slot\":\"right\",\"name\":\"search\"},on:{\"click\":function($event){return _vm.handleSearch()}},slot:\"right\"})],1),_c('div',{ref:\"imageTofile\",staticClass:\"amap-page-container\"},[_c('el-amap-search-box',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSearch),expression:\"isSearch\"}],staticClass:\"search-box\",attrs:{\"search-option\":_vm.searchOption,\"on-search-result\":_vm.onSearchResult}}),_c('el-amap',{staticClass:\"amap-demo\",attrs:{\"vid\":\"amapDemo\",\"center\":_vm.center,\"plugin\":_vm.plugin,\"amap-manager\":_vm.amapManager,\"zoom\":_vm.zoom,\"events\":_vm.events}},_vm._l((_vm.markers),function(marker,index){return _c('el-amap-text',{key:index,attrs:{\"position\":marker.position,\"events\":marker.events,\"visible\":marker.visible,\"draggable\":marker.draggable,\"vid\":index,\"text\":_vm.showAll?marker.tag:marker.country}})}),1)],1),_c('van-tabbar',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{attrs:{\"icon\":\"home-o\"},on:{\"click\":function($event){_vm.isSearch=false;}}},[_vm._v(\"首页\")]),_c('van-tabbar-item',{attrs:{\"icon\":\"search\"},on:{\"click\":function($event){return _vm.handleSearch()}}},[_vm._v(\"查询\")]),_c('van-tabbar-item',{attrs:{\"icon\":\"upgrade\"},on:{\"click\":function($event){_vm.show=true;}}},[_vm._v(\"上传\")])],1),_c('van-popup',{staticStyle:{\"height\":\"75%\"},attrs:{\"position\":\"bottom\",\"round\":\"\",\"closeable\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('Upload',{on:{\"handleAdd\":_vm.addMarker,\"handleAddAll\":_vm.showAllMarker,\"change\":_vm.handleChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload\"},[_c('div',{staticClass:\"upload-tab\"},[_c('van-uploader',{ref:\"inputName\",attrs:{\"accept\":\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\",\"multiple\":\"\"},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}}),_c('h3',[_vm._v(\"上传文件，文件大小<5M\")]),_c('div',{staticClass:\"operation\"},[_c('van-button',{staticClass:\"operation-btn\",attrs:{\"plain\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.handleOk()}}},[_vm._v(\"上传文件解析\")]),_c('van-button',{staticClass:\"operation-btn\",attrs:{\"plain\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.handlePrint()}}},[_vm._v(\"截图全部数据\")]),_c('div',{staticClass:\"operation-btn\"},[_vm._v(\" 简称 \"),_c('van-switch',{model:{value:(_vm.showAll),callback:function ($$v) {_vm.showAll=$$v},expression:\"showAll\"}}),_vm._v(\"全称 \")],1)],1)],1),(_vm.dataList)?_c('van-collapse',{attrs:{\"accordion\":\"\"},model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},_vm._l((_vm.dataList),function(data,index){return _c('van-collapse-item',{key:index,attrs:{\"title\":data.name,\"name\":index}},[_c('van-swipe-cell',[_c('van-cell',{attrs:{\"border\":false,\"title\":'共'+data.points.length+'个标记'}},_vm._l((data.points),function(point,index){return _c('van-tag',{key:index,attrs:{\"plain\":\"\",\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.showAll?point.tag:point.country))])}),1),_c('template',{slot:\"right\"},[_c('van-button',{staticStyle:{\"height\":\"100%\"},attrs:{\"square\":\"\",\"type\":\"info\",\"text\":\"标记\"},on:{\"click\":function($event){return _vm.onMark(index)}}})],1)],2)],1)}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"upload\">\r\n    <div class=\"upload-tab\">\r\n      <van-uploader\r\n        ref=\"inputName\"\r\n        accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n        v-model=\"fileList\"\r\n        multiple\r\n      ></van-uploader>\r\n      <h3>上传文件，文件大小<5M</h3>\r\n      <div class=\"operation\">\r\n        <van-button plain type=\"info\" @click=\"handleOk()\" class=\"operation-btn\">上传文件解析</van-button>\r\n        <van-button plain type=\"info\" @click=\"handlePrint()\" class=\"operation-btn\">截图全部数据</van-button>\r\n        <div class=\"operation-btn\">\r\n          简称\r\n          <van-switch v-model=\"showAll\" />全称\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <van-collapse v-model=\"activeNames\" v-if=\"dataList\" accordion>\r\n      <van-collapse-item\r\n        v-for=\"(data,index) in dataList\"\r\n        :title=\"data.name\"\r\n        :name=\"index\"\r\n        :key=\"index\"\r\n      >\r\n        <van-swipe-cell>\r\n          <van-cell :border=\"false\" :title=\"'共'+data.points.length+'个标记'\">\r\n            <van-tag\r\n              plain\r\n              type=\"primary\"\r\n              v-for=\"(point,index) in data.points\"\r\n              :key=\"index\"\r\n            >{{showAll?point.tag:point.country}}</van-tag>\r\n          </van-cell>\r\n\r\n          <template slot=\"right\">\r\n            <van-button square type=\"info\" text=\"标记\" style=\"height:100%;\" @click=\"onMark(index)\" />\r\n          </template>\r\n        </van-swipe-cell>\r\n      </van-collapse-item>\r\n    </van-collapse>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport XLSX from \"xlsx\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeNames: 0,\r\n      parmas: [],\r\n      fileList: [],\r\n      showAll: true,\r\n      dataList: [\r\n        {\r\n          name: \"安福县-jc\",\r\n          count: 2,\r\n          points: [\r\n            {\r\n              tag: \"新乡石陂村\",\r\n              country:\"石陂村\",\r\n              position: [120.002, 24.0211]\r\n            },\r\n            {\r\n              tag: \"新乡石陂村\",\r\n              country:\"石陂村\",\r\n              position: [121.402, 25.0211]\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n   watch:{\r\n      showAll(val, oldVal){\r\n          console.log(\"change\")\r\n          this.$emit('change',this.showAll)\r\n      }\r\n  },\r\n  methods: {\r\n    onMark(index) {\r\n      var data = this.dataList[parseInt(index)];\r\n      console.log(data);\r\n      this.$emit(\"handleAdd\", data);\r\n    },\r\n    handleOk() {\r\n      this.$toast.loading({\r\n        message: \"解析中...\",\r\n        forbidClick: true,\r\n        overlay: true,\r\n        duration: 5000\r\n      });\r\n      // 上传文件并解析数据\r\n      let _this = this;\r\n      var promise = new Promise(resolve => {\r\n        let X = XLSX;\r\n        let rABS = false; // 是否转为二进制字符串\r\n        let files = _this.fileList.map(item => {\r\n          return item.file;\r\n        });\r\n        _this.parmas = [];\r\n        for (var i = 0; i < files.length; i++) {\r\n          var f = files[i];\r\n          var reader = new FileReader();\r\n          var name = f.name;\r\n          sessionStorage.setItem(\"name\", name);\r\n          reader.onload = function(e) {\r\n            var data = e.target.result;\r\n            var wb; // 读取完成的数据\r\n            if (rABS) {\r\n              wb = X.read(data, { type: \"binary\" });\r\n            } else {\r\n              var arr = fixdata(data); // 手动转化\r\n              wb = X.read(btoa(arr), { type: \"base64\" });\r\n            }\r\n            processWb(wb, \"json\");\r\n          };\r\n          if (rABS) reader.readAsBinaryString(f);\r\n          else reader.readAsArrayBuffer(f);\r\n        }\r\n        resolve();\r\n      })\r\n        .then(() => {\r\n          setTimeout(() => {\r\n            _this.getList();\r\n          }, 1000);\r\n        })\r\n        .then(() => {\r\n          _this.$toast.clear();\r\n        })\r\n        .catch(() => {\r\n          _this.$toast.fail({\r\n            message: \"解析失败\"\r\n          });\r\n        });\r\n\r\n      // 将读取到的数据转为字符串\r\n      function processWb(wb, type) {\r\n        var output = \"\";\r\n        if (type === \"json\") {\r\n          output = JSON.stringify(toJson(wb), 2, 2);\r\n          return output;\r\n        }\r\n      }\r\n      function fixdata(data) {\r\n        // 文件流转BinaryString\r\n        let o = \"\";\r\n        let l = 0;\r\n        let w = 10240;\r\n        for (; l < data.byteLength / w; ++l)\r\n          o += String.fromCharCode.apply(\r\n            null,\r\n            new Uint8Array(data.slice(l * w, l * w + w))\r\n          );\r\n        o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w)));\r\n        return o;\r\n      }\r\n      function toJson(workbook) {\r\n        var result = {};\r\n        // SheetNames是获取Sheets中Sheet的名字\r\n        // Sheets[Sheet名]获取第一个Sheet的数据\r\n        workbook.SheetNames.forEach(function(sheetName) {\r\n          var roa = XLSX.utils.sheet_to_row_object_array(\r\n            workbook.Sheets[sheetName]\r\n          );\r\n          if (roa.length > 0) {\r\n            result[sheetName] = roa;\r\n          }\r\n        });\r\n        let str = result.Sheet1;\r\n        _this.parmas.push(str);\r\n        console.log(_this.parmas);\r\n        return result;\r\n      }\r\n    },\r\n    getList() {\r\n      //   console.log(Array.isArray(this.parmas));\r\n      //   console.log(this.parmas);\r\n      //   console.log(this.parmas[0]);\r\n      if (this.parmas !== []) {\r\n        let datas = this.parmas[0];\r\n        var result = [];\r\n        var start = 1;\r\n        var i = 0,\r\n          obj;\r\n        var len = datas.length;\r\n        for (; i < len - 1; ) {\r\n          obj = {\r\n            name: datas[i].name,\r\n            points: [\r\n              {\r\n                tag: datas[i].tag,\r\n                country:datas[i].country,\r\n                position: [datas[i].lng, datas[i].lat]\r\n              }\r\n            ]\r\n          };\r\n          //  console.log(i)\r\n          for (let j = i + 1; j < len; j++) {\r\n            if (datas[i].name == datas[j].name) {\r\n              obj.points.push({\r\n                tag: datas[j].tag,\r\n                country:datas[j].country,\r\n                position: [datas[j].lng, datas[j].lat]\r\n              });\r\n              if (j == len - 1) {\r\n                result.push(obj);\r\n                i = len;\r\n                break;\r\n              }\r\n            } else if (j == len - 1) {\r\n              result.push(obj, {\r\n                name: datas[j].name,\r\n                points: [\r\n                  {\r\n                    tag: datas[j].tag,\r\n                    country:datas[j].country,\r\n                    position: [datas[j].lng, datas[j].lat]\r\n                  }\r\n                ]\r\n              });\r\n              i = len;\r\n              break;\r\n            } else {\r\n              i = j;\r\n              result.push(obj);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        this.dataList = result;\r\n      } else {\r\n        this.dataList = [];\r\n      }\r\n    },\r\n    handlePrint() {\r\n      this.$emit(\"handleAddAll\", this.dataList);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.upload-tab {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 15px 10px 15px 10px;\r\n}\r\n.delete-button {\r\n  height: 100%;\r\n}\r\n.operation {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column, nowrap;\r\n  justify-content: center;\r\n  &-btn:nth-child(1) {\r\n    margin-right: 10px;\r\n  }\r\n  &-btn:nth-child(2) {\r\n    margin-left: 10px;\r\n  }\r\n  &-btn:nth-child(3) {\r\n    display:flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-align: center;\r\n    position: absolute;\r\n    right: 5px;\r\n    line-height: 100%;\r\n    font-size: 15px;\r\n    &>div{\r\n        margin: 5px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=19c4754a&scoped=true&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload.vue?vue&type=style&index=0&id=19c4754a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19c4754a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <van-nav-bar title=\"乡镇查询\">\r\n      <van-icon name=\"search\" slot=\"right\" @click=\"handleSearch()\" />\r\n    </van-nav-bar>\r\n\r\n    <div class=\"amap-page-container\" ref=\"imageTofile\">\r\n      <el-amap-search-box\r\n        class=\"search-box\"\r\n        v-show=\"isSearch\"\r\n        :search-option=\"searchOption\"\r\n        :on-search-result=\"onSearchResult\"\r\n      ></el-amap-search-box>\r\n      <el-amap\r\n        vid=\"amapDemo\"\r\n        :center=\"center\"\r\n        :plugin=\"plugin\"\r\n        :amap-manager=\"amapManager\"\r\n        :zoom=\"zoom\"\r\n        :events=\"events\"\r\n        class=\"amap-demo\"\r\n      >\r\n        <el-amap-text\r\n          v-for=\"(marker, index) in markers\"\r\n          :position=\"marker.position\"\r\n          :events=\"marker.events\"\r\n          :visible=\"marker.visible\"\r\n          :draggable=\"marker.draggable\"\r\n          :vid=\"index\"\r\n          :key=\"index\"\r\n          :text=\"showAll?marker.tag:marker.country\"\r\n        ></el-amap-text>\r\n      </el-amap>\r\n    </div>\r\n\r\n    <van-tabbar v-model=\"active\">\r\n      <van-tabbar-item icon=\"home-o\" @click=\"isSearch=false;\">首页</van-tabbar-item>\r\n      <van-tabbar-item icon=\"search\" @click=\"handleSearch()\">查询</van-tabbar-item>\r\n      <van-tabbar-item icon=\"upgrade\" @click=\"show=true;\">上传</van-tabbar-item>\r\n    </van-tabbar>\r\n    <van-popup v-model=\"show\" position=\"bottom\" round style=\"height:75%;\" closeable>\r\n      <Upload @handleAdd=\"addMarker\" @handleAddAll=\"showAllMarker\" @change=\"handleChange\"></Upload>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n  <script>\r\n// NPM 方式\r\nimport { AMapManager } from \"vue-amap\";\r\nimport Upload from \"./upload\";\r\nimport html2canvas from \"html2canvas\";\r\n// CDN 方式\r\nlet amapManager = new AMapManager();\r\nexport default {\r\n  components: { Upload, html2canvas },\r\n  data() {\r\n    let self = this;\r\n    return {\r\n      showAll: true,\r\n      dataList: [],\r\n      markers: [], //标记点\r\n      searchOption: {\r\n        city: \"江西\",\r\n        citylimit: false\r\n      }, //搜索地点选项\r\n      lng: 0, //经度\r\n      lat: 0, //纬度\r\n      show: false,\r\n      isSearch: false,\r\n      zoom: 15,\r\n      center: [121.59996, 31.197646],\r\n      amapManager,\r\n      plugin: [\r\n        //定位\r\n        {\r\n          pName: \"Geolocation\",\r\n          events: {\r\n            init(o) {\r\n              console.log(o);\r\n              // o 是高德地图定位插件实例\r\n              o.getCurrentPosition((status, result) => {\r\n                if (status == \"error\") {\r\n                  self.$toast.fail(\"定位失败\");\r\n                }\r\n                console.log(status, result);\r\n                if (result && result.position) {\r\n                  self.lng = result.position.lng;\r\n                  self.lat = result.position.lat;\r\n                  self.center = [self.lng, self.lat];\r\n                  self.loaded = true;\r\n                  console.log(self.center);\r\n                  self.$nextTick();\r\n                }\r\n              });\r\n            }\r\n          }\r\n        },\r\n        // 工具条\r\n        {\r\n          pName: \"ToolBar\",\r\n          events: {\r\n            init(instance) {\r\n              console.log(instance);\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      events: {\r\n        init(o) {\r\n          o.setMapStyle(\"amap://styles/normal\"); //自定义的高德地图的样式，我选的是马卡龙\r\n        },\r\n        complete() {\r\n          const map = self.amapManager.getMap(); // 获取地图组件实例\r\n          // setFitView(overlayList:Array)\r\n          // 根据地图上添加的覆盖物分布情况，\r\n          // 自动缩放地图到合适的视野级别，参数overlayList默认为当前地图上添加的所有覆盖物图层\r\n          map.setFitView();\r\n        }\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    active(val) {\r\n      if (this.isSearch == true) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    add(lng, lat) {\r\n      let o = amapManager.getMap();\r\n      let marker = new AMap.Marker({\r\n        position: [lng, lat]\r\n      });\r\n      marker.setMap(o);\r\n    },\r\n\r\n    toImage(name) {\r\n      // 第一个参数是需要生成截图的元素,第二个是自己需要配置的参数,宽高等\r\n      html2canvas(this.$refs.imageTofile, {\r\n        backgroundColor: null,\r\n        useCORS: true\r\n      }).then(canvas => {\r\n        let link = document.createElement(\"a\");\r\n        link.href = canvas.toDataURL(); //下载链接\r\n        link.setAttribute(\"download\", `${name}.png`);\r\n        link.style.display = \"none\"; //a标签隐藏\r\n        document.body.appendChild(link);\r\n        link.click(); //this.htmlUrl = url; // 把生成的base64位图片上传到服务器,生成在线图片地址\r\n      });\r\n    },\r\n    async showAllMarker(dataList) {\r\n      this.dataList = dataList;\r\n      for (let i = 0; i < this.dataList.length; i++) {\r\n        setTimeout(() => {\r\n          this.addMarker(this.dataList[i]);\r\n          this.toImage(this.dataList[i].name);\r\n        }, 2000 * i);\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.isSearch = !this.isSearch;\r\n    },\r\n    handleChange(arg) {\r\n      this.showAll = arg;\r\n    },\r\n    addMarker(data) {\r\n      var markers = data.points.map(item => {\r\n        return {\r\n          tag: item.tag,\r\n          country:item.country,\r\n          position: item.position\r\n        };\r\n      });\r\n      console.log(markers);\r\n      this.markers = [];\r\n      this.markers.push(...markers);\r\n\r\n      this.center = getCenter(this.markers);\r\n      this.show = false;\r\n\r\n      function getCenter(markers) {\r\n        let len = markers.length;\r\n        let lngs = markers.reduce((pre, cur) => {\r\n          return pre + cur.position[0];\r\n        }, 0);\r\n        let lats = markers.reduce((pre, cur) => {\r\n          return pre + cur.position[1];\r\n        }, 0);\r\n        return [lngs / len, lats / len];\r\n      }\r\n    },\r\n    //TODO：搜索地点\r\n    onSearchResult(pois) {\r\n      let latSum = 0;\r\n      let lngSum = 0;\r\n      if (pois.length > 0) {\r\n        pois.forEach(poi => {\r\n          let { lng, lat } = poi;\r\n          lngSum += lng;\r\n          latSum += lat;\r\n          this.markers = [];\r\n          this.markers.push({\r\n            tag: \"你的位置\",\r\n            conuntry:\"你的位置\",\r\n            position: [poi.lng, poi.lat]\r\n          });\r\n        });\r\n        let center = {\r\n          lng: lngSum / pois.length,\r\n          lat: latSum / pois.length\r\n        };\r\n        this.center = [center.lng, center.lat];\r\n        this.$toast.success(\"定位成功\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.amap-page-container {\r\n  height: calc(100vh - 100px) !important;\r\n}\r\n.amap-demo {\r\n  height: 100%;\r\n}\r\n.amap-text /deep/ {\r\n  background-color: deeppink !important;\r\n  border-radius: 1px;\r\n  color: #ffffff;\r\n}\r\n.search-box {\r\n  width: 80%;\r\n  max-width: 720px;\r\n  position: absolute;\r\n  top: 10%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=cfdd8ba2&scoped=true&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=cfdd8ba2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cfdd8ba2\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Home from './views/home.vue'\r\nimport UpLoad from './views/upload.vue'\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n    mode: 'history',\r\n    routes: [{\r\n            path: '/',\r\n            name: 'home',\r\n            component: Home\r\n        },\r\n        {\r\n            path: '/upload',\r\n            name: 'upload',\r\n            component: UpLoad\r\n        }\r\n    ]\r\n})","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport VueAMap from 'vue-amap';\r\nimport router from './router'\r\nimport '@vant/touch-emulator';\r\nimport axios from 'axios';\r\nVue.prototype.$axios = axios;\r\nimport QS from 'qs'\r\nimport kscreenshot from 'kscreenshot'\r\n//65指键盘中的A\r\nnew kscreenshot({\r\n    key: 65\r\n})\r\nVue.prototype.qs = QS;\r\nimport {\r\n    Cell,\r\n    CellGroup,\r\n    Tabbar,\r\n    TabbarItem,\r\n    Icon,\r\n    NavBar,\r\n    Toast,\r\n    Popup,\r\n    Uploader,\r\n    Search,\r\n    Button,\r\n    SwipeCell,\r\n    Card,\r\n    Collapse,\r\n    CollapseItem,\r\n    Tag,\r\n    Switch,\r\n    Dialog\r\n} from 'vant';\r\nVue.use(Dialog);\r\nVue.use(Switch);\r\nVue.use(Cell);\r\nVue.use(CellGroup);\r\nVue.use(Tag);\r\nVue.use(Collapse);\r\nVue.use(CollapseItem);\r\nVue.use(SwipeCell);\r\nVue.use(Card);\r\nVue.use(Toast);\r\nVue.use(Button);\r\nVue.use(Uploader);\r\nVue.use(Search);\r\nVue.use(NavBar);\r\nVue.use(Icon);\r\nVue.use(Popup);\r\nVue.use(Tabbar);\r\nVue.use(TabbarItem);\r\nVue.config.productionTip = false\r\nVue.use(VueAMap);\r\nVueAMap.initAMapApiLoader({\r\n    key: '\t4f9202c0f61ad5b1db4566c4534ab803',\r\n    plugin: ['AMap.Autocomplete', 'AMap.PlaceSearch', 'AMap.Scale', 'AMap.OverView', 'AMap.ToolBar', 'AMap.MapType', 'AMap.PolyEditor', 'AMap.CircleEditor', 'AMap.Geolocation'],\r\n    // 默认高德 sdk 版本为 1.4.4\r\n    v: '1.4.4'\r\n});\r\nnew Vue({\r\n    router,\r\n    render: h => h(App)\r\n}).$mount('#app')","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=cfdd8ba2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=cfdd8ba2&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=style&index=0&id=19c4754a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=style&index=0&id=19c4754a&lang=scss&scoped=true&\""],"sourceRoot":""}